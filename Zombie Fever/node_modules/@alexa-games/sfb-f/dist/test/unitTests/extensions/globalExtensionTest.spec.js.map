{"version":3,"file":"globalExtensionTest.spec.js","sourceRoot":"","sources":["../../../../test/unitTests/extensions/globalExtensionTest.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { GlobalDirectionsExtension } from './../../../extensions/coreExtensions/GlobalDirectionsExtension'\nimport { StoryMetadataHelper } from '../../../importPlugins/storyMetadataHelper';\nimport { StoryMetadata, InstructionType } from './../../../story/storyMetadata';\nimport { SourceContentHelper } from '../../../importPlugins/sourceContentHelper';\nimport { strict as assert } from 'assert';\n\nimport * as sinon from 'sinon';\n\ndescribe(\"Global Scene Extension Test\", function () {\n    it(\"No global scene\", async function () {\n        const storyHelper = new StoryMetadataHelper(TEST_STORY);\n        const globalExtension = new GlobalDirectionsExtension();\n        await globalExtension.extendImportedContent(storyHelper);\n\n        const resultingInstructions = storyHelper.getSceneInstructions('start');\n        assert.equal(resultingInstructions.length, 3);\n    });\n\n    it(\"prepend global scene\", async function () {\n        const storyHelper = new StoryMetadataHelper(PREPEND_STORY);\n        const globalExtension = new GlobalDirectionsExtension();\n        await globalExtension.extendImportedContent(storyHelper);\n\n        const resultingInstructions = storyHelper.getSceneInstructions('start');\n        const reusltingNarration = storyHelper.getSceneNarration('start');\n        \n        assert.equal(resultingInstructions.length, 4);\n        assert.equal(resultingInstructions[0].directionType, InstructionType.FLAG);\n        assert.ok(reusltingNarration.match(/^appended narration /g));\n    });\n\n    it(\"postpend global scene\", async function () {\n        const storyHelper = new StoryMetadataHelper(POSTPEND_STORY);\n        const globalExtension = new GlobalDirectionsExtension();\n        await globalExtension.extendImportedContent(storyHelper);\n\n        const resultingInstructions = storyHelper.getSceneInstructions('start');\n        const reusltingNarration = storyHelper.getSceneNarration('start')\n\n        assert.equal(resultingInstructions.length, 4);\n        assert.equal(resultingInstructions[resultingInstructions.length - 1].directionType, InstructionType.FLAG);\n        assert.ok(reusltingNarration.match(/ appended narration$/g));\n    });\n\n    it(\"append global scene\", async function () {\n        const storyHelper = new StoryMetadataHelper(APPEND_STORY);\n        const globalExtension = new GlobalDirectionsExtension();\n        await globalExtension.extendImportedContent(storyHelper);\n\n        const resultingInstructions = storyHelper.getSceneInstructions('start');\n        const reusltingNarration = storyHelper.getSceneNarration('start')\n\n        assert.equal(resultingInstructions.length, 4);\n        assert.equal(resultingInstructions[resultingInstructions.length - 1].directionType, InstructionType.FLAG);\n        assert.ok(reusltingNarration.match(/ appended narration$/g));\n    });\n\n    it(\"default global scene\", async function () {\n        const storyHelper = new StoryMetadataHelper(STANDARD_GLOBAL_STORY);\n        const globalExtension = new GlobalDirectionsExtension();\n        await globalExtension.extendImportedContent(storyHelper);\n\n        const resultingInstructions = storyHelper.getSceneInstructions('start');\n        const reusltingNarration = storyHelper.getSceneNarration('start')\n\n        assert.equal(resultingInstructions.length, 4);\n        assert.equal(resultingInstructions[resultingInstructions.length - 1].directionType, InstructionType.FLAG);\n        assert.ok(reusltingNarration.match(/ appended narration$/g));\n    });\n\n    it(\"default global scene with exception scene\", async function () {\n        const storyHelper = new StoryMetadataHelper(STANDARD_GLOBAL_MULTI_SCENES_STORY);\n        const globalExtension = new GlobalDirectionsExtension(['start']);\n        await globalExtension.extendImportedContent(storyHelper);\n\n        const exceptionSceneInstruction = storyHelper.getSceneInstructions('start');\n        const exceptionNarration = storyHelper.getSceneNarration('start')\n\n        assert.equal(exceptionSceneInstruction.length, 3);\n        assert.equal(exceptionNarration.match(/ appended narration$/g), null);\n\n        const globaledSceneInstruction = storyHelper.getSceneInstructions('something else');\n        const globaledSceneNarration = storyHelper.getSceneNarration('something else')\n\n        assert.equal(globaledSceneInstruction.length, 4);\n        assert.equal(globaledSceneInstruction[globaledSceneInstruction.length - 1].directionType, InstructionType.FLAG);\n        assert.ok(globaledSceneNarration.match(/ appended narration$/g));\n    });\n\n    it(\"default global scene without scene instructions\", async function () {\n        const storyHelper = new StoryMetadataHelper(STANDARD_GLOBAL_STORY_NO_INSTRUCTIONS);\n        const globalExtension = new GlobalDirectionsExtension();\n        await globalExtension.extendImportedContent(storyHelper);\n\n        const resultingInstructions = storyHelper.getSceneInstructions('start');\n        const reusltingNarration = storyHelper.getSceneNarration('start')\n\n        assert.equal(resultingInstructions.length, 3);\n        assert.ok(reusltingNarration.match(/ appended narration$/g));\n    });\n\n    it(\"append global instruction on empty scene\", async function () {\n        const storyHelper = new StoryMetadataHelper(STANDARD_GLOBAL_STORY_ON_EMPTY);\n        const globalExtension = new GlobalDirectionsExtension();\n        await globalExtension.extendImportedContent(storyHelper);\n\n        const resultingInstructions = storyHelper.getSceneInstructions('start');\n        const reusltingNarration = storyHelper.getSceneNarration('start')\n\n        assert.equal(resultingInstructions.length, 1);\n        assert.ok(reusltingNarration.match(/ appended narration$/g));\n    });\n\n    it(\"prepend global instruction on empty scene\", async function () {\n        const storyHelper = new StoryMetadataHelper(PREPEND_GLOBAL_STORY_ON_EMPTY);\n        const globalExtension = new GlobalDirectionsExtension();\n        await globalExtension.extendImportedContent(storyHelper);\n\n        const resultingInstructions = storyHelper.getSceneInstructions('start');\n        const reusltingNarration = storyHelper.getSceneNarration('start')\n\n        assert.equal(resultingInstructions.length, 1);\n        assert.ok(reusltingNarration.match(/^appended narration /g));\n    });\n\n    it (\"Unused extension method 'extendSourceContent' does not throw when called\", async function () {\n        const globalExtension = new GlobalDirectionsExtension();\n        await globalExtension.extendSourceContent(new SourceContentHelper([\n            {\n                id: \"test.abc\",\n                text: \"@start\"\n            }\n        ]));\n    });\n});\n\nconst TEST_STORY: StoryMetadata = {\n    pluginName: \"something\",\n    scenes: [\n        {\n            contents: [\n                {\n                    narration: \"testing narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a reprompt\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a recap\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.CHOICE,\n                            parameters: {\n                                \"utterances\": [\n                                    \"restart\",\n                                    \"start over\"\n                                ],\n                                \"saveToHistory\": \"true\",\n                                \"directions\": [\n                                    {\n                                        \"directionType\": \"bookmark\",\n                                        \"parameters\": {\n                                            \"variableName\": \"bookmark\"\n                                        },\n                                    },\n                                    {\n                                        \"directionType\": \"go to\",\n                                        \"parameters\": {\n                                            \"target\": \"restart confirm\",\n                                            \"targetSceneProperty\": \"narration\"\n                                        },\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \n            ],\n            id: \"start\"\n        }\n    ],\n    storyID: \"something\",\n    storyTitle: \"something\"\n}\n\nconst PREPEND_STORY: StoryMetadata = {\n    pluginName: \"something\",\n    scenes: [\n        {\n            contents: [\n                {\n                    narration: \"testing narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a reprompt\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a recap\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.CHOICE,\n                            parameters: {\n                                \"utterances\": [\n                                    \"restart\",\n                                    \"start over\"\n                                ],\n                                \"saveToHistory\": \"true\",\n                                \"directions\": [\n                                    {\n                                        \"directionType\": \"bookmark\",\n                                        \"parameters\": {\n                                            \"variableName\": \"bookmark\"\n                                        },\n                                    },\n                                    {\n                                        \"directionType\": \"go to\",\n                                        \"parameters\": {\n                                            \"target\": \"restart confirm\",\n                                            \"targetSceneProperty\": \"narration\"\n                                        },\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \n            ],\n            id: \"start\"\n        },\n        {\n            id: 'global prepend',\n            contents: [\n                {\n                    narration: \"appended narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.FLAG,\n                            parameters: {\n                                variableName: \"someFlag\"\n                            }\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    storyID: \"something\",\n    storyTitle: \"something\"\n}\n\nconst POSTPEND_STORY: StoryMetadata = {\n    pluginName: \"something\",\n    scenes: [\n        {\n            contents: [\n                {\n                    narration: \"testing narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a reprompt\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a recap\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.CHOICE,\n                            parameters: {\n                                \"utterances\": [\n                                    \"restart\",\n                                    \"start over\"\n                                ],\n                                \"saveToHistory\": \"true\",\n                                \"directions\": [\n                                    {\n                                        \"directionType\": \"bookmark\",\n                                        \"parameters\": {\n                                            \"variableName\": \"bookmark\"\n                                        },\n                                    },\n                                    {\n                                        \"directionType\": \"go to\",\n                                        \"parameters\": {\n                                            \"target\": \"restart confirm\",\n                                            \"targetSceneProperty\": \"narration\"\n                                        },\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \n            ],\n            id: \"start\"\n        },\n        {\n            id: 'global postpend',\n            contents: [\n                {\n                    narration: \"appended narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.FLAG,\n                            parameters: {\n                                variableName: \"someFlag\"\n                            }\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    storyID: \"something\",\n    storyTitle: \"something\"\n}\n\nconst APPEND_STORY: StoryMetadata = {\n    pluginName: \"something\",\n    scenes: [\n        {\n            contents: [\n                {\n                    narration: \"testing narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a reprompt\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a recap\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.CHOICE,\n                            parameters: {\n                                \"utterances\": [\n                                    \"restart\",\n                                    \"start over\"\n                                ],\n                                \"saveToHistory\": \"true\",\n                                \"directions\": [\n                                    {\n                                        \"directionType\": \"bookmark\",\n                                        \"parameters\": {\n                                            \"variableName\": \"bookmark\"\n                                        },\n                                    },\n                                    {\n                                        \"directionType\": \"go to\",\n                                        \"parameters\": {\n                                            \"target\": \"restart confirm\",\n                                            \"targetSceneProperty\": \"narration\"\n                                        },\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \n            ],\n            id: \"start\"\n        },\n        {\n            id: 'global append',\n            contents: [\n                {\n                    narration: \"appended narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.FLAG,\n                            parameters: {\n                                variableName: \"someFlag\"\n                            }\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    storyID: \"something\",\n    storyTitle: \"something\"\n}\n\nconst STANDARD_GLOBAL_STORY: StoryMetadata = {\n    pluginName: \"something\",\n    scenes: [\n        {\n            contents: [\n                {\n                    narration: \"testing narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a reprompt\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a recap\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.CHOICE,\n                            parameters: {\n                                \"utterances\": [\n                                    \"restart\",\n                                    \"start over\"\n                                ],\n                                \"saveToHistory\": \"true\",\n                                \"directions\": [\n                                    {\n                                        \"directionType\": \"bookmark\",\n                                        \"parameters\": {\n                                            \"variableName\": \"bookmark\"\n                                        },\n                                    },\n                                    {\n                                        \"directionType\": \"go to\",\n                                        \"parameters\": {\n                                            \"target\": \"restart confirm\",\n                                            \"targetSceneProperty\": \"narration\"\n                                        },\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \n            ],\n            id: \"start\"\n        },\n        {\n            id: 'global',\n            contents: [\n                {\n                    narration: \"appended narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.FLAG,\n                            parameters: {\n                                variableName: \"someFlag\"\n                            }\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    storyID: \"something\",\n    storyTitle: \"something\"\n}\n\nconst STANDARD_GLOBAL_MULTI_SCENES_STORY: StoryMetadata = {\n    pluginName: \"something\",\n    scenes: [\n        {\n            contents: [\n                {\n                    narration: \"testing narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a reprompt\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a recap\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.CHOICE,\n                            parameters: {\n                                \"utterances\": [\n                                    \"restart\",\n                                    \"start over\"\n                                ],\n                                \"saveToHistory\": \"true\",\n                                \"directions\": [\n                                    {\n                                        \"directionType\": \"bookmark\",\n                                        \"parameters\": {\n                                            \"variableName\": \"bookmark\"\n                                        },\n                                    },\n                                    {\n                                        \"directionType\": \"go to\",\n                                        \"parameters\": {\n                                            \"target\": \"restart confirm\",\n                                            \"targetSceneProperty\": \"narration\"\n                                        },\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \n            ],\n            id: \"start\"\n        },\n        {\n            contents: [\n                {\n                    narration: \"testing narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a reprompt\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a recap\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.CHOICE,\n                            parameters: {\n                                \"utterances\": [\n                                    \"restart\",\n                                    \"start over\"\n                                ],\n                                \"saveToHistory\": \"true\",\n                                \"directions\": [\n                                    {\n                                        \"directionType\": \"bookmark\",\n                                        \"parameters\": {\n                                            \"variableName\": \"bookmark\"\n                                        },\n                                    },\n                                    {\n                                        \"directionType\": \"go to\",\n                                        \"parameters\": {\n                                            \"target\": \"restart confirm\",\n                                            \"targetSceneProperty\": \"narration\"\n                                        },\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \n            ],\n            id: \"something else\"\n        },\n        {\n            id: 'global',\n            contents: [\n                {\n                    narration: \"appended narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.FLAG,\n                            parameters: {\n                                variableName: \"someFlag\"\n                            }\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    storyID: \"something\",\n    storyTitle: \"something\"\n}\n\nconst STANDARD_GLOBAL_STORY_NO_INSTRUCTIONS: StoryMetadata = {\n    pluginName: \"something\",\n    scenes: [\n        {\n            contents: [\n                {\n                    narration: \"testing narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a reprompt\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.REPROMPT,\n                            parameters: {\n                                message: \"this is a recap\"\n                            }\n                        },\n                        {\n                            directionType: InstructionType.CHOICE,\n                            parameters: {\n                                \"utterances\": [\n                                    \"restart\",\n                                    \"start over\"\n                                ],\n                                \"saveToHistory\": \"true\",\n                                \"directions\": [\n                                    {\n                                        \"directionType\": \"bookmark\",\n                                        \"parameters\": {\n                                            \"variableName\": \"bookmark\"\n                                        },\n                                    },\n                                    {\n                                        \"directionType\": \"go to\",\n                                        \"parameters\": {\n                                            \"target\": \"restart confirm\",\n                                            \"targetSceneProperty\": \"narration\"\n                                        },\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \n            ],\n            id: \"start\"\n        },\n        {\n            id: 'global',\n            contents: [\n                {\n                    narration: \"appended narration\"\n                }\n            ]\n        }\n    ],\n    storyID: \"something\",\n    storyTitle: \"something\"\n}\n\nconst STANDARD_GLOBAL_STORY_ON_EMPTY: StoryMetadata = {\n    pluginName: \"something\",\n    scenes: [\n        {\n            contents: [\n                {\n                    narration: \"testing narration\"\n                },\n                \n            ],\n            id: \"start\"\n        },\n        {\n            id: 'global',\n            contents: [\n                {\n                    narration: \"appended narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.FLAG,\n                            parameters: {\n                                variableName: \"someFlag\"\n                            }\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    storyID: \"something\",\n    storyTitle: \"something\"\n}\n\nconst PREPEND_GLOBAL_STORY_ON_EMPTY: StoryMetadata = {\n    pluginName: \"something\",\n    scenes: [\n        {\n            contents: [\n                {\n                    narration: \"testing narration\"\n                },\n                \n            ],\n            id: \"start\"\n        },\n        {\n            id: 'global prepend',\n            contents: [\n                {\n                    narration: \"appended narration\",\n                    sceneDirections: [\n                        {\n                            directionType: InstructionType.FLAG,\n                            parameters: {\n                                variableName: \"someFlag\"\n                            }\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    storyID: \"something\",\n    storyTitle: \"something\"\n}"]}