{"version":3,"file":"storyFeatureEnumerator.js","sourceRoot":"","sources":["../../importPlugins/storyFeatureEnumerator.ts"],"names":[],"mappings":";;AAAA,yDAI4B;AAE5B,6CAAwE;AAExE,MAAa,eAAe;IAIxB,YAAY,KAAe,EAAE,OAAgB;QACzC,IAAI,CAAC,MAAM,GAAG,IAAI,mCAAgB,CAAC;YAC/B,YAAY,EAAE,0BAAO,CAAC,SAAS;YAC/B,KAAK,EAAE,KAAK;YACZ,eAAe,EAAE,wCAAqB,CAAC,UAAU;YACjD,SAAS,EAAE,OAAO;SACrB,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACI,OAAO;QACV,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;QAC1C,8EAA8E;QAC9E,qBAAqB;QACrB,IAAI,MAAM,EAAE;YACR,OAAO,IAAI,4BAAe,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;SAC5E;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;CACJ;AA1BD,0CA0BC;AAED,MAAa,uBAAuB;IAIhC,YAAY,KAAe,EAAE,KAAsB,EAAE,IAAa;QAC9D,IAAI,CAAC,MAAM,GAAG,IAAI,mCAAgB,CAAC;YAC/B,YAAY,EAAE,0BAAO,CAAC,SAAS;YAC/B,KAAK,EAAE,KAAK;YACZ,KAAK;YACL,SAAS,EAAE,IAAI;YACf,eAAe,EAAE,wCAAqB,CAAC,cAAc;SACxD,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACI,OAAO;QAEV,MAAM,MAAM,GAAI,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;QAE3C,8EAA8E;QAC9E,qBAAqB;QACrB,IAAI,MAAM,EAAE;YACR,OAAO,IAAI,oCAAuB,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;SACpF;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;CACJ;AA7BD,0DA6BC","sourcesContent":["import { \n    StoryBlockFinder, \n    EndType, \n    BlockStartExpressions\n} from './storyBlockFinder';\nimport { StoryBlockRange } from './storyBlockRange';\nimport { SceneStoryBlock, ScenePropertyStoryBlock } from './storyBlock';\n\nexport class SceneEnumerator {\n  \n    private finder: StoryBlockFinder; \n\n    constructor(lines: string[], sceneId?: string) {\n        this.finder = new StoryBlockFinder({\n            blockEndType: EndType.NextBlock,\n            lines: lines,\n            blockStartMatch: BlockStartExpressions.SceneMatch,\n            blockName: sceneId\n        }); \n    }\n    \n    /**\n     * Returns the next scene. Returns undefined when no more scenes are available.\n     */\n    public getNext(): SceneStoryBlock | undefined {\n        const result = this.finder.getNextBlock();\n        // TODO: Can we use generics with finder to return SceneStoryBlock rather than\n        // transforming here.\n        if (result) {\n            return new SceneStoryBlock(result.lines, result.blockName, result.range);\n        }\n\n        return undefined;\n    }\n}\n\nexport class ScenePropertyEnumerator {\n  \n    private finder: StoryBlockFinder; \n\n    constructor(lines: string[], range: StoryBlockRange, type?: string) {\n        this.finder = new StoryBlockFinder({\n            blockEndType: EndType.NextBlock,\n            lines: lines,\n            range,\n            blockName: type,\n            blockStartMatch: BlockStartExpressions.ScenePropMatch\n        }); \n    }\n    \n    /**\n     * Returns the next scene property. Returns undefined when no more are available.\n     */\n    public getNext(): ScenePropertyStoryBlock | undefined {\n\n        const result =  this.finder.getNextBlock();\n\n        // TODO: Can we use generics with finder to return SceneStoryBlock rather than\n        // transforming here.\n        if (result) {\n            return new ScenePropertyStoryBlock(result.lines, result.blockName, result.range);\n        }\n\n        return undefined;\n    }\n}\n"]}