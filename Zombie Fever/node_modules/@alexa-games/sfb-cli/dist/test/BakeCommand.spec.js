"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require('fs');
const path = require('path');
const bakeCommand_1 = require("../lib/bakeCommand");
const consoleLogger_1 = require("../lib/consoleLogger");
const assert_1 = require("assert");
describe('Bake Command Tests', () => {
    it('Test APL Bake', async () => {
        const bakeCommand = new bakeCommand_1.BakeCommand("", new consoleLogger_1.ConsoleLogger);
        const aplPath = path.resolve("test/data/en-us/apl-templates.json");
        const outputFile = aplPath + ".out";
        fs.unlinkSync(outputFile);
        assert_1.strict.ok(!fs.existsSync(outputFile));
        await bakeCommand.bakeAPLFiles(aplPath, outputFile);
        assert_1.strict.ok(fs.existsSync(outputFile));
        const generatedAPLHash = JSON.parse(fs.readFileSync(outputFile));
        assert_1.strict.ok(generatedAPLHash);
        assert_1.strict.ok(!generatedAPLHash['does not contain me']);
        assert_1.strict.ok(generatedAPLHash['default']);
        assert_1.strict.ok(generatedAPLHash['title-screen-apl-test']);
        assert_1.strict.ok(generatedAPLHash['ending-screen-apl-test']);
        assert_1.strict.ok(generatedAPLHash['subdir.subdir-apl']);
    });
});
//# sourceMappingURL=BakeCommand.spec.js.map